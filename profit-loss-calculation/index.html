<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Spotware cTrader Opan API Documentation"><link href=https://spotware.github.io/open-api-docs/profit-loss-calculation/ rel=canonical><link rel=icon href=../img/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-7.1.5"><title>Profit/Loss Calculation - Open API</title><link rel=stylesheet href=../assets/stylesheets/main.bde7dde4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ef6f36e2.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#what-you-need class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Open API" class="md-header__button md-logo" aria-label="Open API" data-md-component=logo> <img src=../img/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Open API </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Profit/Loss Calculation </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/spotware/open-api-docs/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> spotware/open-api-docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Open API" class="md-nav__button md-logo" aria-label="Open API" data-md-component=logo> <img src=../img/logo.png alt=logo> </a> Open API </label> <div class=md-nav__source> <a href=https://github.com/spotware/open-api-docs/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> spotware/open-api-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../api-application/ class=md-nav__link> API Application </a> </li> <li class=md-nav__item> <a href=../account-authentication/ class=md-nav__link> Account Authentication </a> </li> <li class=md-nav__item> <a href=../protocol-buffers/ class=md-nav__link> Protocol Buffers </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../connection/ class=md-nav__link> Connection </a> </li> <li class=md-nav__item> <a href=../reading-writing/ class=md-nav__link> Reading/Writing </a> </li> <li class=md-nav__item> <a href=../symbol-data/ class=md-nav__link> Symbol Data </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Profit/Loss Calculation <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Profit/Loss Calculation </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#what-you-need class=md-nav__link> What you need? </a> </li> <li class=md-nav__item> <a href=#symbols class=md-nav__link> Symbols </a> </li> <li class=md-nav__item> <a href=#symbol-tickpip-size class=md-nav__link> Symbol Tick/Pip Size </a> <nav class=md-nav aria-label="Symbol Tick/Pip Size"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#calculating-a-symbols-tickpip-size class=md-nav__link> Calculating a Symbol's Tick/Pip Size </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#symbol-rate-conversion class=md-nav__link> Symbol Rate Conversion </a> </li> <li class=md-nav__item> <a href=#symbol-tickpip-value class=md-nav__link> Symbol Tick/Pip Value </a> <nav class=md-nav aria-label="Symbol Tick/Pip Value"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#calculating-a-symbols-tickpip-value class=md-nav__link> Calculating a Symbol's Tick/Pip value </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#calculating-a-position-profitloss class=md-nav__link> Calculating a Position Profit/Loss </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> References <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=References data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../messages/ class=md-nav__link> Messages </a> </li> <li class=md-nav__item> <a href=../models/ class=md-nav__link> Models </a> </li> <li class=md-nav__item> <a href=../common-messages/ class=md-nav__link> Common Messages </a> </li> <li class=md-nav__item> <a href=../common-model-messages/ class=md-nav__link> Common Model Messages </a> </li> <li class=md-nav__item> <a href=../common-types/ class=md-nav__link> Common Types </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> SDKs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SDKs data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> SDKs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/spotware/OpenAPI.Net class=md-nav__link> .NET </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../terms-of-use/ class=md-nav__link> Terms of Use </a> </li> <li class=md-nav__item> <a href=../privacy-policy/ class=md-nav__link> Privacy Policy </a> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> F.A.Qs </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#what-you-need class=md-nav__link> What you need? </a> </li> <li class=md-nav__item> <a href=#symbols class=md-nav__link> Symbols </a> </li> <li class=md-nav__item> <a href=#symbol-tickpip-size class=md-nav__link> Symbol Tick/Pip Size </a> <nav class=md-nav aria-label="Symbol Tick/Pip Size"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#calculating-a-symbols-tickpip-size class=md-nav__link> Calculating a Symbol's Tick/Pip Size </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#symbol-rate-conversion class=md-nav__link> Symbol Rate Conversion </a> </li> <li class=md-nav__item> <a href=#symbol-tickpip-value class=md-nav__link> Symbol Tick/Pip Value </a> <nav class=md-nav aria-label="Symbol Tick/Pip Value"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#calculating-a-symbols-tickpip-value class=md-nav__link> Calculating a Symbol's Tick/Pip value </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#calculating-a-position-profitloss class=md-nav__link> Calculating a Position Profit/Loss </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/spotware/open-api-docs/edit/main/docs/profit-loss-calculation.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Profit/Loss Calculation</h1> <h2 id=what-you-need>What you need?<a class=headerlink href=#what-you-need title="Permanent link">&para;</a></h2> <p>One of the most common tasks you will need to implement in an Open API application is the calculation of the current positions P&amp;L.</p> <p>To achieve this, you need to be able to convert values between different currencies.</p> <p>This is a tedious task and this tutorial will walk you through this process.</p> <h2 id=symbols>Symbols<a class=headerlink href=#symbols title="Permanent link">&para;</a></h2> <p>Any symbol is made up of two different assets, one is base asset and the other one is quote asset.</p> <p>For example EURUSD, EUR is base asset and USD is the quote asset.</p> <p>The quote price of EURUSD gives you the amount of USD that is equal to 1 EUR.</p> <h2 id=symbol-tickpip-size>Symbol Tick/Pip Size<a class=headerlink href=#symbol-tickpip-size title="Permanent link">&para;</a></h2> <p>A Tick is the lowest amount that a symbol price can change.</p> <p>Each broker or symbol can have different Tick values.</p> <p>A Pip is X amount of Ticks, usually Pips are larger than ticks. For example 1 Pip of EURUSD can be 10 Ticks.</p> <h3 id=calculating-a-symbols-tickpip-size>Calculating a Symbol's Tick/Pip Size<a class=headerlink href=#calculating-a-symbols-tickpip-size title="Permanent link">&para;</a></h3> <p>To get the amount/size of a symbol Tick/Pip follow these steps:</p> <ol> <li>Get the symbol full data (<a href=../models/#protooasymbol>ProtoOASymbol</a>) by sending a <a href=../messages/#protooasymbolbyidreq>ProtoOASymbolByIdReq</a> message, you have to populate the message with symbol and trading account IDs.</li> <li>After sending the request message you will receive a <a href=../messages/#protooasymbolbyidres>ProtoOASymbolByIdRes</a> message, use the response message symbol field to get the symbol model.</li> <li>The symbol model has a digits field, the Tick size is 1 over 10 to power of symbol digits or mathematically 1 / Pow(10, digits).</li> <li>The symbol model has a pipPosition field, the symbol Pip size is 1 over 10 to power of symbol pipPosition or mathematically 1 / Pow(10, pipPosition).</li> <li>Now you have both symbol Tick and Pip size.</li> </ol> <h2 id=symbol-rate-conversion>Symbol Rate Conversion<a class=headerlink href=#symbol-rate-conversion title="Permanent link">&para;</a></h2> <p>To convert a symbol rate to another symbol rate you should use the (<a href=../models/#protooasymbolsforconversionreq>ProtoOASymbolsForConversionReq</a>) request message, the response of this message is a (<a href=../models/#protooasymbolsforconversionreq>ProtoOASymbolsForConversionReq</a>), which contains the symbol conversion chain that you should use for converting the current rate of first Asset to last asset.</p> <p>You must have the asset IDs to be able to use (<a href=../models/#protooasymbolsforconversionreq>ProtoOASymbolsForConversionReq</a>), as this message has two required fields which are the first asset ID and the last asset ID.</p> <p>As an example for converting the current rate of GBPJPY to trading account deposit asset which is USD we have to follow these steps:</p> <ol> <li>We need the conversion chain from GBPJPY quote asset which is JPY to account deposit asset which is USD, to get the conversion chain we send a (<a href=../models/#protooasymbolsforconversionreq>ProtoOASymbolsForConversionReq</a>), we set the first asset to JPY asset ID and the last asset to USD asset ID.</li> <li>After sending the request message we will receive a (<a href=../models/#protooasymbolsforconversionres>ProtoOASymbolsForConversionRes</a>), its symbol field has all the symbols that we need to use for converting JPY to USD rate.</li> <li>Then we have to use the returned conversion symbols to convert the JPY rate to USD, the below pseudocode might help understand better the process:</li> </ol> <div class=highlight><pre><span></span><code>fromAsset = &quot;JPY&quot;
toAsset = &quot;USD&quot;

// rate will be our conversion result
rate = 1

// symbols are the ProtoOASymbolsForConversionRes symbols field
symbols[] = ProtoOASymbolsForConversionRes(fromAsset,toAsset)

asset = fromAsset 

FOR symbol in symbols:
    IF symbol.baseAsset == asset:
        rate = rate * symbol.price
        asset = symbol.quoteAsset
    ELSE:
        rate = rate * 1 / symbol.price
        asset = symbol.baseAsset
</code></pre></div> <p>We recommend you to get all of the conversion chain symbols for each asset when you get the assets data, instead of sending a (<a href=../models/#protooasymbolsforconversionreq>ProtoOASymbolsForConversionReq</a>) everytime you need to convert rates.</p> <h2 id=symbol-tickpip-value>Symbol Tick/Pip Value<a class=headerlink href=#symbol-tickpip-value title="Permanent link">&para;</a></h2> <p>The Tick value is the monetary value of one Tick of a symbol, or the monetary value of lowest amount of price change for 1 unit volume.</p> <p>The Pip value is the monetary value of one Pip of a symbol for 1 unit volume.</p> <h3 id=calculating-a-symbols-tickpip-value>Calculating a Symbol's Tick/Pip value<a class=headerlink href=#calculating-a-symbols-tickpip-value title="Permanent link">&para;</a></h3> <p>Calculating a symbol's Tick/Pip value is a bit tricky because it's not fixed like Tick/Pip size, it keeps changing based on currency conversion rates, and you have to use the latest currency conversion rates to calculate it.</p> <p>If a symbol quote currency is the same as the account deposit currency then the symbol Tick value is equal to its Tick size.</p> <p>You have to have all the trading account symbols, symbols conversion chain symbols, and assets data to be able to calculate a symbol Pip/Tick value and also each symbol's latest Bid/Ask prices.</p> <p>To calculate a symbol's Tick value when the symbol quote asset is not same as account deposit asset follow these steps:</p> <ol> <li>Converte the symbol rate to account deposit currency, to do this follow the symbol rate conversion tutorial</li> <li>Multiply the symbol tick size to the conversion rate</li> </ol> <p>Now you have the symbol Tick value, what about Pip value? to get Pip value we multiply the Tick value to the product of symbol Pip size divided by symbol Tick size:</p> <div class=highlight><pre><span></span><code>pipValue = tickValue * (pipSize / tickSize)
</code></pre></div> <p>You can use a symbol Pip/Tick value for calculating positions profit/loss or risk management.</p> <h2 id=calculating-a-position-profitloss>Calculating a Position Profit/Loss<a class=headerlink href=#calculating-a-position-profitloss title="Permanent link">&para;</a></h2> <p>Now let's try to calculate a position profit/loss, for example we have a buy EURUSD position, the volume is 0.01 lots or 1000 units, the position entry is at 1.20345, and the quote price of EURUSD is 1.19654.</p> <p>Lets first find how much is the position return, to do that we subtract the entry price from quote price, if it was a sell position we would subtract quote price from entry price:</p> <div class=highlight><pre><span></span><code>return = quote price - entry price
</code></pre></div> <p>Now we get -0.00691, which is our position return, but we don't know the monetary value of this amount of EURUSD based on our position volume.</p> <p>Let's now change the return to Pips, so to change absolute price to Pips we multiply the price to 10 to power of symbol Pip Position and then we round it:</p> <div class=highlight><pre><span></span><code>pips = Round(return * Pow(10, PipPosition), symbol.Digits - symbol.PipPosition)
</code></pre></div> <p>The symbol Pip position is in (<a href=../models/#protooasymbol>ProtoOASymbol</a>).</p> <p>Now we have the number of Pips, but we still don't know the monetary value, now let's change the Pips to monetary value:</p> <div class=highlight><pre><span></span><code>volume = positionVolumeMonetary / 100

grossProfit = Pips * Symbol.PipValue * volume

// You can get a position Money digits from ProtoOAPosition model via reconcile request or execution event
// Pow means Power
// Swap can be positive/negative
positionSwapMonetary = positionSwap / Pow(10, MoneyDigits)
// API gives commission in negative form
// We multiply the commission by two because we must calculate the position for both opening and closing orders of position
positionDoubleCommissionMonetary = (positionCommission * 2) / Pow(10, MoneyDigits)

netProfit = GrossProfit + positionDoubleCommissionMonetary + positionSwapMonetary
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" title="Back to top" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../symbol-data/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Symbol Data </div> </div> </a> <a href=../messages/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Messages </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2021 Spotware Systems Ltd. cTrader, cAlgo, cBroker, cMirror. All rights reserved. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.top", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script> <script src=../assets/javascripts/bundle.a1609d9a.min.js></script> </body> </html>